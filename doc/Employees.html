<html><head>
<link rel="stylesheet" type="text/css" href="https://categoricaldata.net/css/simple.css" /></head><body><h1>example Employees</h1><pre>
typeside Ty = literal { 
	types
 		string 
 		nat
	constants
 		Al Akin Bob Bo Carl Cork Dan Dunn Math CS : string
 		zero : nat
 	functions 		
	 	succ		: nat -&gt; nat
	 	plus		: nat, nat -&gt; nat
	equations  
	 	forall x. plus(zero, x) = x
	 	forall x, y. plus(succ(x),y) = succ(plus(x,y))
	options
		prover = completion
}

schema S = literal : Ty {
	entities
		Employee 
		Department
	foreign_keys
		manager   : Employee -&gt; Employee
		worksIn   : Employee -&gt; Department
		secretary : Department -&gt; Employee
	path_equations 
		Employee.manager.worksIn = Employee.worksIn
  		Department.secretary.worksIn = Department
  	attributes
  		first last	: Employee -&gt; string
     	age			: Employee -&gt; nat
     	cummulative_age: Employee -&gt; nat
     	name 		: Department -&gt; string
     observation_equations
     	forall e. cummulative_age(e) = plus(age(e), age(manager(e)))
	options
		prover = completion
}

instance I = literal : S {
	generators 
		a b c : Employee
		m s : Department
	equations 
		first(a) = Al
		first(b) = Bob  last(b) = Bo
		first(c) = Carl 
		name(m)  = Math name(s) = CS
		age(a) = age(c) 
		manager(a) = b manager(b) = b manager(c) = c
		worksIn(a) = m worksIn(b) = m worksIn(c) = s
		secretary(s) = c secretary(m) = b 
		secretary(worksIn(a)) = manager(a)
		worksIn(a) = worksIn(manager(a))
		age(a) = zero.succ.succ 
		age(manager(a)) = zero.succ
	options
		prover = completion
		completion_precedence = "cummulative_age zero a b c m s Al Akin Bob Bo Carl Cork Dan Dunn Math CS first last name age manager worksIn secretary succ plus"
} 

/////////////////////////////////////////////////////////////////

typeside TyJava = literal { 
	java_types
		string = "java.lang.String"
		nat = "java.lang.Integer"
	java_constants
		string = "return input[0]"
		nat = "return java.lang.Integer.parseInt(input[0])"
	java_functions
		plus : nat,nat -&gt; nat = "return (input[0] + input[1]).intValue()"
}

schema SJava = literal : TyJava {
	entities
		Employee 
		Department
	foreign_keys
		manager   : Employee -&gt; Employee
		worksIn   : Employee -&gt; Department
		secretary : Department -&gt; Employee
	path_equations 
		Employee.manager.worksIn = Employee.worksIn
  		Department.secretary.worksIn = Department
  		Employee.manager.manager = Employee.manager
  	attributes
  		first last	: Employee -&gt; string
     	age			: Employee -&gt; nat
     	cummulative_age: Employee -&gt; nat
     	name 		: Department -&gt; string
     observation_equations
     	forall e. cummulative_age(e) = plus(age(e), age(manager(e)))
     options
     	prover_simplify_max = 64	
}

instance IJava = literal : SJava {
	generators 
		a b c : Employee
		m s : Department
	equations 
		first(a) = Al
		first(b) = Bob  last(b) = Bo
		first(c) = Carl 
		name(m)  = Math name(s) = CS
		age(a) = age(c) 
		manager(a) = b manager(b) = b manager(c) = c
		worksIn(a) = m worksIn(b) = m worksIn(c) = s
		secretary(s) = c secretary(m) = b 
		secretary(worksIn(a)) = manager(a)
		worksIn(a) = worksIn(manager(a))
		age(a) = "2" 
		age(manager(a)) = "1"
	 options
     	prover_simplify_max = 64		
}

//basic query syntax
query Q = simple : SJava {
	from e:Employee
	where e.first = Al
	attributes deptName -&gt; e.worksIn.name
	options
		simple_query_entity = Z
     	prover_simplify_max = 64
}

instance J = eval Q IJava


////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////
//demonstrates 'interpret as instance' option.   which interprets the instance as a model, 
//similar to JDBC / CSV import.  This behavior can be useful when writing down an 
//instance that is already saturated and for which one wants to check the schema constraints, 
//rather than impose them  

schema SS = literal : empty {
    entities
        Person
    foreign_keys
    	mother father : Person -&gt; Person
    path_equations
        Person.mother = Person.father
}

//works; sets b = c.  This is normal ‘theory’ or ‘initial algebra' semantics
instance I1 = literal : SS {
        generators
                a b c : Person
        equations
                a.mother = b
                a.father = c

                b.mother = b b.father = b
                c.mother = c c.father = c

                //fails because b != c.  This is 'algebra' semantics
  		//options
          		//interpret_as_algebra = true
}
</pre> Keywords:<br/></br>			<a href="instanceinstance_literal.html" >instance_literal</a><br />
			<a href="typesidetypeside_literal.html" >typeside_literal</a><br />
			<a href="schemaschema_literal.html" >schema_literal</a><br />
			<a href="querysimple.html" >simple</a><br />
			<a href="instanceeval.html" >eval</a><br />
<br/>Options:<br/></br><a href="prover.html" >prover</a><br/>
<a href="completion_precedence.html" >completion_precedence</a><br/>
<a href="simple_query_entity.html" >simple_query_entity</a><br/>
<a href="prover_simplify_max.html" >prover_simplify_max</a><br/>

<br/></br>
<hr/><h3>instance IJava</h3><div><table id="table130" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Department</b></caption><tr><th onclick="sortTable('table130', 0)">ID</th><th onclick="sortTable('table130', 1)">name</th><th onclick="sortTable('table130', 2)">secretary</th></tr><tr><td>0</td><td>Math</td><td>3</td></tr><tr><td>1</td><td>CS</td><td>4</td></tr></table><table id="table131" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Employee</b></caption><tr><th onclick="sortTable('table131', 0)">ID</th><th onclick="sortTable('table131', 1)">age</th><th onclick="sortTable('table131', 2)">cummulative_age</th><th onclick="sortTable('table131', 3)">first</th><th onclick="sortTable('table131', 4)">last</th><th onclick="sortTable('table131', 5)">manager</th><th onclick="sortTable('table131', 6)">worksIn</th></tr><tr><td>2</td><td>2</td><td>3</td><td>Al</td><td>?0</td><td>3</td><td>0</td></tr><tr><td>3</td><td>1</td><td>2</td><td>Bob</td><td>Bo</td><td>3</td><td>0</td></tr><tr><td>4</td><td>2</td><td>4</td><td>Carl</td><td>?1</td><td>4</td><td>1</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I1</h3><div><table id="table132" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Person</b></caption><tr><th onclick="sortTable('table132', 0)">ID</th><th onclick="sortTable('table132', 1)">father</th><th onclick="sortTable('table132', 2)">mother</th></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J</h3><div><table id="table133" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Z</b></caption><tr><th onclick="sortTable('table133', 0)">ID</th><th onclick="sortTable('table133', 1)">deptName</th></tr><tr><td>0</td><td>Math</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I</h3><div><table id="table134" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Department</b></caption><tr><th onclick="sortTable('table134', 0)">ID</th><th onclick="sortTable('table134', 1)">name</th><th onclick="sortTable('table134', 2)">secretary</th></tr><tr><td>0</td><td>Math</td><td>3</td></tr><tr><td>1</td><td>CS</td><td>4</td></tr></table><table id="table135" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Employee</b></caption><tr><th onclick="sortTable('table135', 0)">ID</th><th onclick="sortTable('table135', 1)">age</th><th onclick="sortTable('table135', 2)">cummulative_age</th><th onclick="sortTable('table135', 3)">first</th><th onclick="sortTable('table135', 4)">last</th><th onclick="sortTable('table135', 5)">manager</th><th onclick="sortTable('table135', 6)">worksIn</th></tr><tr><td>2</td><td>succ(succ(zero))</td><td>(succ(succ(zero)) plus succ(zero))</td><td>Al</td><td>?0</td><td>3</td><td>0</td></tr><tr><td>3</td><td>succ(zero)</td><td>(succ(zero) plus succ(zero))</td><td>Bob</td><td>Bo</td><td>3</td><td>0</td></tr><tr><td>4</td><td>succ(succ(zero))</td><td>(succ(succ(zero)) plus succ(succ(zero)))</td><td>Carl</td><td>?1</td><td>4</td><td>1</td></tr></table></div><br style="clear:both;"/></body></html>