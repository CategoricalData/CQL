<html><head>
<link rel="stylesheet" type="text/css" href="https://categoricaldata.net/css/simple.css" /></head><body><h1>example Pullback</h1><pre>
typeside Type = literal {
	java_types	
		dom = "java.lang.Object"
	java_constants
		dom = "return input[0]"
}

///////////////////////////////////////////////////////////////////////////

schema CoSpan = literal : Type {
	entities
		B C D
 	foreign_keys
		f: B -&gt; D
		g: C -&gt; D
	attributes
		B_att : B -&gt; dom
		C_att : C -&gt; dom	
} 

schema Square = literal : Type {
	imports
		CoSpan
	entities
		A
 	foreign_keys
		f2: A -&gt; B
		g2: A -&gt; C
	path_equations
		A.f2.f=A.g2.g
	attributes
		A_attB : A -&gt; dom
		A_attC : A -&gt; dom	
} 

instance I = literal : CoSpan {
	generators
		b1 b2 : B
		c1 c2 : C
		d1 d2 d3 : D
	equations
		b1.B_att = "b1"@dom
		b2.B_att = "b2"@dom
		c1.C_att = "c1"@dom
		c2.C_att = "c2"@dom
		b1.f = d1
		b2.f = d2
		c1.g = d1
		c1.g = d3 
}

////////////////////////////////////////////////////////////////////////////////////////////////////
//pullbacks, using queries

query pullback = literal : CoSpan -&gt; Square {
 
 
entity	D -&gt; {from d:D}
		
entity	B -&gt; {from b:B 
		 attributes B_att -&gt; b.B_att
		 foreign_keys f -&gt; {d -&gt; b.f}}

entity	C -&gt; {from c:C 
		 attributes C_att -&gt; c.C_att
		 foreign_keys g -&gt; {d -&gt; c.g}}

entity	A -&gt; {from b0:B c0:C 
		 where b0.f = c0.g 
		 attributes A_attB -&gt; b0.B_att 
		 	   A_attC -&gt; c0.C_att
		  foreign_keys
		  f2 -&gt; {b -&gt; b0}
		  g2 -&gt; {c -&gt; c0}
		 } 

		
}

instance J = eval pullback I

transform t = counit_query pullback I

////////////////////////////////////////////////////////////////////////////////////////////////////
//pullbacks, using constraints (EDs) and the chase

instance K = literal : Square {
	imports
		I
}

constraints pullbackED = literal : Square {
	forall b:B c:C
	where b.f = c.g
	-&gt;
	exists a:A
	where a.f2 = b  a.g2 = c
		b.B_att = a.A_attB
		c.C_att = a.A_attC
}

instance L = chase pullbackED K
</pre> Keywords:<br/></br>			<a href="typesidetypeside_literal.html" >typeside_literal</a><br />
			<a href="schemaschema_literal.html" >schema_literal</a><br />
			<a href="constraintsconstraints_literal.html" >constraints_literal</a><br />
			<a href="queryquery_literal.html" >query_literal</a><br />
			<a href="instancechase.html" >chase</a><br />
			<a href="instanceinstance_literal.html" >instance_literal</a><br />
			<a href="instanceeval.html" >eval</a><br />
			<a href="transformcounit_query.html" >counit_query</a><br />
<br/>Options:<br/></br>
<br/></br>
<hr/><h3>instance L</h3><div><table id="table479" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>A</b></caption><tr><th onclick="sortTable('table479', 0)">ID</th><th onclick="sortTable('table479', 1)">A_attB</th><th onclick="sortTable('table479', 2)">A_attC</th><th onclick="sortTable('table479', 3)">f2</th><th onclick="sortTable('table479', 4)">g2</th></tr><tr><td>0</td><td>b1</td><td>c1</td><td>2</td><td>3</td></tr></table><table id="table480" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>B</b></caption><tr><th onclick="sortTable('table480', 0)">ID</th><th onclick="sortTable('table480', 1)">B_att</th><th onclick="sortTable('table480', 2)">f</th></tr><tr><td>1</td><td>b2</td><td>6</td></tr><tr><td>2</td><td>b1</td><td>5</td></tr></table><table id="table481" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>C</b></caption><tr><th onclick="sortTable('table481', 0)">ID</th><th onclick="sortTable('table481', 1)">C_att</th><th onclick="sortTable('table481', 2)">g</th></tr><tr><td>3</td><td>c1</td><td>5</td></tr><tr><td>4</td><td>c2</td><td>7</td></tr></table><table id="table482" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>D</b></caption><tr><th onclick="sortTable('table482', 0)">ID</th></tr><tr><td>5</td></tr><tr><td>6</td></tr><tr><td>7</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance K</h3><div><table id="table483" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>A</b></caption><tr><th onclick="sortTable('table483', 0)">ID</th><th onclick="sortTable('table483', 1)">A_attB</th><th onclick="sortTable('table483', 2)">A_attC</th><th onclick="sortTable('table483', 3)">f2</th><th onclick="sortTable('table483', 4)">g2</th></tr></table><table id="table484" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>B</b></caption><tr><th onclick="sortTable('table484', 0)">ID</th><th onclick="sortTable('table484', 1)">B_att</th><th onclick="sortTable('table484', 2)">f</th></tr><tr><td>0</td><td>b2</td><td>5</td></tr><tr><td>1</td><td>b1</td><td>4</td></tr></table><table id="table485" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>C</b></caption><tr><th onclick="sortTable('table485', 0)">ID</th><th onclick="sortTable('table485', 1)">C_att</th><th onclick="sortTable('table485', 2)">g</th></tr><tr><td>2</td><td>c1</td><td>4</td></tr><tr><td>3</td><td>c2</td><td>6</td></tr></table><table id="table486" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>D</b></caption><tr><th onclick="sortTable('table486', 0)">ID</th></tr><tr><td>4</td></tr><tr><td>5</td></tr><tr><td>6</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J</h3><div><table id="table487" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>A</b></caption><tr><th onclick="sortTable('table487', 0)">ID</th><th onclick="sortTable('table487', 1)">A_attB</th><th onclick="sortTable('table487', 2)">A_attC</th><th onclick="sortTable('table487', 3)">f2</th><th onclick="sortTable('table487', 4)">g2</th></tr><tr><td>0</td><td>b1</td><td>c1</td><td>2</td><td>3</td></tr></table><table id="table488" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>B</b></caption><tr><th onclick="sortTable('table488', 0)">ID</th><th onclick="sortTable('table488', 1)">B_att</th><th onclick="sortTable('table488', 2)">f</th></tr><tr><td>1</td><td>b2</td><td>6</td></tr><tr><td>2</td><td>b1</td><td>5</td></tr></table><table id="table489" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>C</b></caption><tr><th onclick="sortTable('table489', 0)">ID</th><th onclick="sortTable('table489', 1)">C_att</th><th onclick="sortTable('table489', 2)">g</th></tr><tr><td>3</td><td>c1</td><td>5</td></tr><tr><td>4</td><td>c2</td><td>7</td></tr></table><table id="table490" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>D</b></caption><tr><th onclick="sortTable('table490', 0)">ID</th></tr><tr><td>5</td></tr><tr><td>6</td></tr><tr><td>7</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I</h3><div><table id="table491" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>B</b></caption><tr><th onclick="sortTable('table491', 0)">ID</th><th onclick="sortTable('table491', 1)">B_att</th><th onclick="sortTable('table491', 2)">f</th></tr><tr><td>0</td><td>b2</td><td>5</td></tr><tr><td>1</td><td>b1</td><td>4</td></tr></table><table id="table492" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>C</b></caption><tr><th onclick="sortTable('table492', 0)">ID</th><th onclick="sortTable('table492', 1)">C_att</th><th onclick="sortTable('table492', 2)">g</th></tr><tr><td>2</td><td>c1</td><td>4</td></tr><tr><td>3</td><td>c2</td><td>6</td></tr></table><table id="table493" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>D</b></caption><tr><th onclick="sortTable('table493', 0)">ID</th></tr><tr><td>4</td></tr><tr><td>5</td></tr><tr><td>6</td></tr></table></div><br style="clear:both;"/></body></html>