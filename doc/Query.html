<html><head>
<link rel="stylesheet" type="text/css" href="https://categoricaldata.net/css/simple.css" /></head><body><h1>example Query</h1><pre>
typeside Ty = literal { 
	java_types
		String = "java.lang.String"
		Bool = "java.lang.Boolean"
	java_constants
		String = "return input[0]"
		Bool = "return java.lang.Boolean.parseBoolean(input[0])"
}


schema Source = literal : Ty {
	entities
		Man Woman
	attributes
		fav_book_m : Man -&gt; String
		fav_book_w : Woman -&gt; String
		name_m : Man -&gt; String
		name_w : Woman -&gt; String
		paying : Man -&gt; Bool
} 

schema Target = literal : Ty {
	entities
		Male GoodMatch PayingGoodMatch
	foreign_keys
		is_a : PayingGoodMatch -&gt; GoodMatch
		for_man : GoodMatch -&gt; Male
	attributes
		man_name : Male -&gt; String
		woman_name : GoodMatch -&gt; String
} 

query Q = literal : Source -&gt; Target {
 entity
	GoodMatch -&gt; {
		from m:Man w:Woman
		where fav_book_m(m) = fav_book_w(w)
		attributes woman_name -&gt; name_w(w)
		foreign_keys for_man -&gt; {man -&gt; m}
	} 

 entity	
	Male -&gt; {
		from man:Man
		attributes man_name -&gt; name_m(man)
	} 

 entity	
	PayingGoodMatch -&gt; {
		from man:Man woman:Woman
		where fav_book_m(man) = fav_book_w(woman)
			 paying(man) = true
		foreign_keys is_a -&gt; {m -&gt; man w -&gt; woman}	 
	} 
	
   
} 

instance I = literal : Source {
	generators
		a d e g : Woman
		b c f h : Man
	multi_equations
		paying -&gt; {b true, c false, f true, h true}
		name_m -&gt; {b bob, c charlie, f frank, h henry}
		name_w -&gt; {a alice, d doris, e ellie, g gina}
		fav_book_m -&gt; {b book1, c book1, f book2, h book3}
		fav_book_w -&gt; {a book1, d book2, e book2, g book4}		
} 

instance J = eval Q I
instance I0 = literal : Source {
	generators
		a0 d0 e0 : Woman
		b0 c0 f0 : Man
	multi_equations
		paying -&gt; {b0 true, c0 false, f0 true}
		name_m -&gt; {b0 bob, c0 charlie, f0 frank}
		name_w -&gt; {a0 alice, d0 doris, e0 ellie}
		fav_book_m -&gt; {b0 book1, c0 book1, f0 book2}
		fav_book_w -&gt; {a0 book1, d0 book2, e0 book2}		
} 

transform h = literal : I0 -&gt; I {
	generators
		a0 -&gt; a d0 -&gt; d e0 -&gt; e b0 -&gt; b c0 -&gt; c f0 -&gt; f
} 

transform k = eval Q h

transform kk = coeval Q k
</pre> Keywords:<br/></br>			<a href="transformcoeval.html" >coeval</a><br />
			<a href="schemaschema_literal.html" >schema_literal</a><br />
			<a href="transformeval.html" >eval</a><br />
			<a href="transformtransform_literal.html" >transform_literal</a><br />
			<a href="queryquery_literal.html" >query_literal</a><br />
			<a href="typesidetypeside_literal.html" >typeside_literal</a><br />
			<a href="instanceinstance_literal.html" >instance_literal</a><br />
			<a href="instanceeval.html" >eval</a><br />
<br/>Options:<br/></br>
<br/></br>
<hr/><h3>instance I0</h3><div><table id="table501" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Man</b></caption><tr><th onclick="sortTable('table501', 0)">ID</th><th onclick="sortTable('table501', 1)">fav_book_m</th><th onclick="sortTable('table501', 2)">name_m</th><th onclick="sortTable('table501', 3)">paying</th></tr><tr><td>0</td><td>book1</td><td>bob</td><td>true</td></tr><tr><td>1</td><td>book1</td><td>charlie</td><td>false</td></tr><tr><td>2</td><td>book2</td><td>frank</td><td>true</td></tr></table><table id="table502" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Woman</b></caption><tr><th onclick="sortTable('table502', 0)">ID</th><th onclick="sortTable('table502', 1)">fav_book_w</th><th onclick="sortTable('table502', 2)">name_w</th></tr><tr><td>3</td><td>book1</td><td>alice</td></tr><tr><td>4</td><td>book2</td><td>ellie</td></tr><tr><td>5</td><td>book2</td><td>doris</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance J</h3><div><table id="table503" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>GoodMatch</b></caption><tr><th onclick="sortTable('table503', 0)">ID</th><th onclick="sortTable('table503', 1)">woman_name</th><th onclick="sortTable('table503', 2)">for_man</th></tr><tr><td>0</td><td>alice</td><td>6</td></tr><tr><td>1</td><td>alice</td><td>7</td></tr><tr><td>2</td><td>ellie</td><td>5</td></tr><tr><td>3</td><td>doris</td><td>5</td></tr></table><table id="table504" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Male</b></caption><tr><th onclick="sortTable('table504', 0)">ID</th><th onclick="sortTable('table504', 1)">man_name</th></tr><tr><td>4</td><td>henry</td></tr><tr><td>5</td><td>frank</td></tr><tr><td>6</td><td>charlie</td></tr><tr><td>7</td><td>bob</td></tr></table><table id="table505" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>PayingGoodMatch</b></caption><tr><th onclick="sortTable('table505', 0)">ID</th><th onclick="sortTable('table505', 1)">is_a</th></tr><tr><td>8</td><td>1</td></tr><tr><td>9</td><td>2</td></tr><tr><td>10</td><td>3</td></tr></table></div><br style="clear:both;"/><hr/><h3>instance I</h3><div><table id="table506" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Man</b></caption><tr><th onclick="sortTable('table506', 0)">ID</th><th onclick="sortTable('table506', 1)">fav_book_m</th><th onclick="sortTable('table506', 2)">name_m</th><th onclick="sortTable('table506', 3)">paying</th></tr><tr><td>0</td><td>book3</td><td>henry</td><td>true</td></tr><tr><td>1</td><td>book2</td><td>frank</td><td>true</td></tr><tr><td>2</td><td>book1</td><td>charlie</td><td>false</td></tr><tr><td>3</td><td>book1</td><td>bob</td><td>true</td></tr></table><table id="table507" style="float: left; border: 1px solid black; padding: 5px; border-collapse: collapse; margin-right:10px" border="1"  cellpadding="3"><caption><b>Woman</b></caption><tr><th onclick="sortTable('table507', 0)">ID</th><th onclick="sortTable('table507', 1)">fav_book_w</th><th onclick="sortTable('table507', 2)">name_w</th></tr><tr><td>4</td><td>book1</td><td>alice</td></tr><tr><td>5</td><td>book4</td><td>gina</td></tr><tr><td>6</td><td>book2</td><td>ellie</td></tr><tr><td>7</td><td>book2</td><td>doris</td></tr></table></div><br style="clear:both;"/></body></html>